{"version":3,"sources":["App.js","index.js"],"names":["App","props","getImage","a","image","document","getElementById","value","console","log","setState","state","user","bridge","send","then","this","activePanel","id","status","before","size","src","photo_100","first_name","header","mode","weight","type","onClick","style","textAlign","alt","React","Component","ReactDOM","render"],"mappings":"uTA8FeA,G,yDAzEb,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAcRC,SAfmB,sBAeR,4BAAAC,EAAA,sDACHC,EAAQC,SAASC,eAAe,OAAOC,MAE7CC,QAAQC,IAAI,CAAEL,UAEVA,GACF,EAAKM,SAAS,CAAEN,UANT,2CAZT,EAAKO,MAAQ,CACXC,KAAM,MAJS,E,gEAQE,IAAD,OAClBC,IAAOC,KAAK,sBAAuB,IAChCC,MAAK,SAACH,GACL,EAAKF,SAAS,CAAEE,c,+BAcZ,IAAD,EACiBI,KAAKL,MAArBC,EADD,EACCA,KAAMR,EADP,EACOA,MAEd,OACE,kBAAC,IAAD,CAAMa,YAAY,QAChB,kBAAC,IAAD,CAAOC,GAAG,QACR,kBAAC,IAAD,KAEIN,EACE,kBAAC,IAAD,CACEO,OAAO,wBACPC,OAAQ,kBAAC,IAAD,CAAQC,KAAM,GAAIC,IAAKV,EAAKW,aAEnCX,EAAKY,YAGR,yBAIN,kBAAC,IAAD,CAAOC,OAAQ,kBAAC,IAAD,CAAQC,KAAK,aAAb,+CACb,kBAAC,IAAD,okDAGA,kBAAC,IAAD,0TAC0D,kBAAC,IAAD,CAAMC,OAAO,YAAb,kCAD1D,4QAIA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,KAAK,OAAOV,GAAG,QAEtB,kBAAC,IAAD,CAAQG,KAAK,KAAKQ,QAASb,KAAKd,UAAhC,6DAIEE,GACF,kBAAC,IAAD,CAAK0B,MAAO,CAAEC,UAAW,WACvB,yBAAKT,IAAKlB,EAAO4B,IAAI,wB,GAhEnBC,IAAMC,YCZxBrB,IAAOC,KAAK,eAAgB,IAE5BqB,IAASC,OAAO,kBAAC,EAAD,MAAS/B,SAASC,eAAe,W","file":"static/js/main.977e4e5d.chunk.js","sourcesContent":["import React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport {\n  Avatar,\n  Button,\n  Div,\n  FormLayout,\n  Group,\n  Header,\n  Input,\n  Panel,\n  PanelHeader,\n  PanelHeaderContent,\n  Text,\n  View\n} from '@vkontakte/vkui';\n\nimport '@vkontakte/vkui/dist/vkui.css';\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      user: null\n    };\n  }\n\n  componentDidMount() {\n    bridge.send('VKWebAppGetUserInfo', {})\n      .then((user) => {\n        this.setState({ user });\n      });\n  }\n\n  getImage = async () => {\n    const image = document.getElementById('url').value;\n\n    console.log({ image });\n\n    if (image) {\n      this.setState({ image });\n    }\n  };\n\n  render() {\n    const { user, image } = this.state;\n\n    return (\n      <View activePanel=\"main\">\n        <Panel id=\"main\">\n          <PanelHeader>\n            {\n              user ?\n                <PanelHeaderContent\n                  status=\"VK Apps Image Example\"\n                  before={<Avatar size={36} src={user.photo_100} />}\n                >\n                  {user.first_name}\n                </PanelHeaderContent>\n                :\n                'VK Apps Image Example'\n            }\n          </PanelHeader>\n\n          <Group header={<Header mode=\"secondary\">Задание</Header>}>\n            <Div>\n              У нас есть мини-приложение, которое имеет возможность загружать изображения по внешней ссылке. Увы, в приложении допущена ошибка, из-за чего удаленный сервер получает параметры запуска пользователей, которые вставляют ссылку. Нужно объяснить почему так происходит и исправить ситуацию красиво и лаконично.\n\t\t\t\t\t\t</Div>\n            <Div>\n              Для облегчения тестирования можно использовать картинку <Text weight=\"semibold\">https://service.pavel.im/image</Text> (good code — все круто, bad code — сервер получил параметры запуска)\n\t\t\t\t\t\t</Div>\n\n            <FormLayout>\n              <Input type=\"text\" id=\"url\" />\n\n              <Button size=\"xl\" onClick={this.getImage}>Загрузить</Button>\n            </FormLayout>\n\n            {\n              !!image &&\n              <Div style={{ textAlign: 'center' }}>\n                <img src={image} alt=\"remote file\" />\n              </Div>\n            }\n          </Group>\n        </Panel>\n      </View>\n    );\n  }\n\n}\n\nexport default App;\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport bridge from '@vkontakte/vk-bridge';\nimport App from './App';\n\nbridge.send('VKWebAppInit', {});\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}